CREATE TABLE IF NOT EXISTS public.users (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,first_name VARCHAR(64) NOT NULL,last_name VARCHAR(64) NOT NULL,age SMALLINT NOT NULL,CONSTRAINT "usersPK" PRIMARY KEY (id));
CREATE TABLE IF NOT EXISTS public.posts (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,created_date TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW() NOT NULL,content VARCHAR(264) NOT NULL,owner_id BIGINT NOT NULL,CONSTRAINT "postsPK" PRIMARY KEY (id));
CREATE TABLE IF NOT EXISTS public.likes (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,created_date TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW() NOT NULL,liked_post_id BIGINT NOT NULL,like_owner_id BIGINT NOT NULL,CONSTRAINT "likesPK" PRIMARY KEY (id));

ALTER TABLE public.posts ADD CONSTRAINT "fk_Posts_owner_id" FOREIGN KEY (owner_id) REFERENCES public.users (id);
ALTER TABLE public.likes ADD CONSTRAINT "fk_Likes_liked_post_id" FOREIGN KEY (liked_post_id) REFERENCES public.posts (id);
ALTER TABLE public.likes ADD CONSTRAINT "fk_Likes_like_owner_id" FOREIGN KEY (like_owner_id) REFERENCES public.users (id);

CREATE SEQUENCE IF NOT EXISTS public.users_seq START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE IF NOT EXISTS public.posts_seq START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE IF NOT EXISTS public.likes_seq START WITH 1 INCREMENT BY 1;

INSERT INTO users (id,first_name,last_name,age)
VALUES (1,'John','Travolta',45),(2,'Mike','Tayson',32),(3,'Fred','Jackson',65),(4,'George','Holisson',21),(5,'Steave','Mofilly',39);
SELECT setval('users_seq', 5, true);

INSERT INTO posts (id,created_date,content,owner_id)
VALUES (1,to_timestamp('2021-06-09 17:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),'something...',1),
       (2,to_timestamp('2021-06-10 17:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),'something...',1),
       (3,to_timestamp('2021-06-10 18:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),'something...',1),
       (4,to_timestamp('2021-06-10 18:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),'something...',2),
       (5,to_timestamp('2021-06-10 18:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),'something...',2),
       (6,to_timestamp('2021-06-10 18:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),'something...',3),
       (7,to_timestamp('2021-06-10 18:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),'something...',4),
       (8,to_timestamp('2021-06-10 18:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),'something...',5),
       (9,to_timestamp('2021-06-10 18:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),'something...',5);
SELECT setval('posts_seq', 9, true);

INSERT INTO likes (id,created_date,liked_post_id,like_owner_id)
VALUES (1,to_timestamp('2021-06-09 17:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),3,2),
       (2,to_timestamp('2021-06-09 17:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),4,1),
       (3,to_timestamp('2021-06-09 17:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),6,2),
       (4,to_timestamp('2021-06-09 17:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),6,3),
       (5,to_timestamp('2021-06-09 17:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),7,5),
       (6,to_timestamp('2021-06-09 17:01:37.55', 'YYYY-MM-DD HH24:MI:SS.MS'),9,4);
SELECT setval('likes_seq', 6, true);